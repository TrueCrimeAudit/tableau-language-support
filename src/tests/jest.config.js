// src/tests/jest.config.js\n\nmodule.exports = {\n    // Test environment\n    testEnvironment: 'node',\n    \n    // Root directory for tests\n    rootDir: '../..',\n    \n    // Test file patterns\n    testMatch: [\n        '<rootDir>/src/tests/**/*.test.ts',\n        '<rootDir>/src/tests/**/*.test.js'\n    ],\n    \n    // Setup files\n    setupFilesAfterEnv: [\n        '<rootDir>/src/tests/jest.setup.ts'\n    ],\n    \n    // TypeScript transformation\n    transform: {\n        '^.+\\.ts$': 'ts-jest'\n    },\n    \n    // Module file extensions\n    moduleFileExtensions: [\n        'ts',\n        'js',\n        'json'\n    ],\n    \n    // Coverage configuration\n    collectCoverage: true,\n    coverageDirectory: '<rootDir>/coverage',\n    coverageReporters: [\n        'text',\n        'lcov',\n        'html',\n        'json'\n    ],\n    \n    // Coverage collection patterns\n    collectCoverageFrom: [\n        '<rootDir>/src/**/*.ts',\n        '!<rootDir>/src/tests/**',\n        '!<rootDir>/src/**/*.d.ts',\n        '!<rootDir>/src/extension.ts', // VS Code extension entry point\n        '!<rootDir>/src/server.ts'    // Server entry point (integration tested separately)\n    ],\n    \n    // Coverage thresholds\n    coverageThreshold: {\n        global: {\n            branches: 80,\n            functions: 80,\n            lines: 80,\n            statements: 80\n        },\n        // Specific thresholds for core components\n        '<rootDir>/src/documentModel.ts': {\n            branches: 85,\n            functions: 85,\n            lines: 85,\n            statements: 85\n        },\n        '<rootDir>/src/diagnosticsProvider.ts': {\n            branches: 85,\n            functions: 85,\n            lines: 85,\n            statements: 85\n        },\n        '<rootDir>/src/hoverProvider.ts': {\n            branches: 80,\n            functions: 80,\n            lines: 80,\n            statements: 80\n        },\n        '<rootDir>/src/completionProvider.ts': {\n            branches: 80,\n            functions: 80,\n            lines: 80,\n            statements: 80\n        },\n        '<rootDir>/src/signatureProvider.ts': {\n            branches: 80,\n            functions: 80,\n            lines: 80,\n            statements: 80\n        },\n        '<rootDir>/src/format.ts': {\n            branches: 75,\n            functions: 75,\n            lines: 75,\n            statements: 75\n        }\n    },\n    \n    // Test timeout\n    testTimeout: 10000,\n    \n    // Verbose output\n    verbose: true,\n    \n    // Clear mocks between tests\n    clearMocks: true,\n    \n    // Restore mocks after each test\n    restoreMocks: true,\n    \n    // Module name mapping for path resolution\n    moduleNameMapping: {\n        '^@/(.*)$': '<rootDir>/src/$1'\n    },\n    \n    // Global setup and teardown\n    globalSetup: '<rootDir>/src/tests/globalSetup.ts',\n    globalTeardown: '<rootDir>/src/tests/globalTeardown.ts',\n    \n    // Test result processor\n    testResultsProcessor: '<rootDir>/src/tests/testResultsProcessor.js',\n    \n    // Custom reporters\n    reporters: [\n        'default',\n        [\n            'jest-junit',\n            {\n                outputDirectory: '<rootDir>/test-results',\n                outputName: 'junit.xml',\n                suiteName: 'Tableau LSP Unit Tests'\n            }\n        ],\n        [\n            'jest-html-reporters',\n            {\n                publicPath: '<rootDir>/test-results',\n                filename: 'test-report.html',\n                expand: true\n            }\n        ]\n    ],\n    \n    // Error handling\n    errorOnDeprecated: true,\n    \n    // Performance monitoring\n    detectOpenHandles: true,\n    detectLeaks: true,\n    \n    // Parallel execution\n    maxWorkers: '50%',\n    \n    // Cache configuration\n    cache: true,\n    cacheDirectory: '<rootDir>/node_modules/.cache/jest',\n    \n    // Watch mode configuration\n    watchPathIgnorePatterns: [\n        '<rootDir>/node_modules/',\n        '<rootDir>/coverage/',\n        '<rootDir>/test-results/'\n    ],\n    \n    // Test categories configuration\n    projects: [\n        {\n            displayName: 'Unit Tests',\n            testMatch: ['<rootDir>/src/tests/unit/**/*.test.ts'],\n            setupFilesAfterEnv: ['<rootDir>/src/tests/jest.setup.ts']\n        },\n        {\n            displayName: 'Integration Tests',\n            testMatch: ['<rootDir>/src/tests/integration/**/*.test.ts'],\n            setupFilesAfterEnv: ['<rootDir>/src/tests/jest.setup.ts'],\n            testTimeout: 30000 // Longer timeout for integration tests\n        },\n        {\n            displayName: 'Performance Tests',\n            testMatch: ['<rootDir>/src/tests/performance/**/*.test.ts'],\n            setupFilesAfterEnv: ['<rootDir>/src/tests/jest.setup.ts'],\n            testTimeout: 60000 // Even longer timeout for performance tests\n        },\n        {\n            displayName: 'Edge Case Tests',\n            testMatch: ['<rootDir>/src/tests/edge/**/*.test.ts'],\n            setupFilesAfterEnv: ['<rootDir>/src/tests/jest.setup.ts']\n        }\n    ]\n};\n"